.TH BUS_WRITE 3 BUS-%VERSION%
.SH NAME
bus_write - Broadcast a message a bus
.SH SYNOPSIS
#include <bus.h>

int bus_write(const bus_t *bus, const char *message, int flags);
.SH DESCRIPTION
The \fIbus_write()\fP function broadcasts a message on the bus whose
information is stored in \fIbus\fP.  The message read by the function is
stored in the parameter \fImessage\fP.  It may not exceeed 2048 bytes,
including NUL termination.
.PP
The \fIbus_write()\fP function shall fail, and set \fIerrno\fP to
\fIEAGAIN\fP, if the call would suspend the process and
(\fIflags\fP &BUS_NOWAIT).
.SH RETURN VALUES
Upon successful completion, the function returns 0.  Otherwise the
function returns -1 and sets \fIerrno\fP to indicate the error.
.SH ERRORS
The
.BR bus_write(3)
function may fail and set \fIerrno\fP to any of the
errors specified for
.BR semop(3).
.SH SEE ALSO
bus-create(1), bus(5), libbus(7), bus_open(3), bus_read(3),
bus_chown(3), bus_chmod(3)
.SH AUTHORS
Principal author, Mattias Andr√©e.  See the LICENSE file for the full
list of authors.
.SH LICENSE
MIT/X Consortium License.
.SH BUGS
Please report bugs to https://github.com/maandree/bus/issues or to
maandree@member.fsf.org
