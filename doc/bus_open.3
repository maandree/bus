.TH BUS_OPEN 1 BUS-%VERSION%
.SH NAME
bus_open - Open a bus
.SH SYNOPSIS
#include <bus.h>

int bus_open(bus_t *bus, const char *file, int flags);
.SH DESCRIPTION
The
.BR bus_open(3)
function acquires resources required for the process to use the bus
associated with the filename stored in \fIfile\fP.  The function also
stores the resource \fIbus\fP for use by other
.BR bus(5)
functions.
.PP
Values for \fIflags\fP are constructed by a bitwise inclusive OR of
flags from the following list.
.TP
.B BUS_RDONLY
The process will only be using the bus for receiving messages.
.TP
.B BUS_WRONLY
The process will only be using the bus for sending messages.
.TP
.B BUS_RDWR
The process will use the bus for both receiving and sending messages.
.SH RETURN VALUES
Upon successful completion the function returns 0.  Otherwise the
function returns -1 and set \fIerrno\fP to indicate the error.
.SH ERRORS
.TP
.B ENOMEM
The process cannot allocate more memory.
.TP
.B EACCES
Operation permission is denied to the calling process.
.TP
.B EINVAL
The described bus does not exist.
.PP
The
.BR bus_open(3)
function may also fail and set \fIerrno\fP to any of the errors
specified for the routine
.BR open(2).
.SH SEE ALSO
bus-create(1), bus(5), libbus(7), bus_open(3), bus_unlink(3), open(2)
.SH AUTHORS
Principal author, Mattias Andr√©e.  See the LICENSE file for the full
list of authors.
.SH LICENSE
MIT/X Consortium License.
.SH BUGS
Please report bugs to https://github.com/maandree/bus/issues
